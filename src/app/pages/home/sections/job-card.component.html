<div
  role="button"
  [attr.aria-expanded]="isOpen"
  (click)="toggleOpen()"
  class="mb-4 flex cursor-pointer flex-col rounded-lg p-4 transition-colors duration-300 hover:bg-gray-200 md:flex-row dark:hover:bg-gray-700"
>
  <img
    [src]="job.imageUrl"
    [alt]="job.company + ' logo'"
    width="48"
    height="48"
    class="mr-4 mb-2 h-12 w-12 rounded-full object-cover md:mb-0"
  />

  <div class="flex-1">
    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
      <div>
        <h3 class="flex flex-wrap items-center gap-2 text-sm font-semibold sm:text-base">
          {{ job.company }}
          <span class="rounded-md border border-transparent bg-gray-100 px-2 py-0.5 text-xs text-gray-600">
            {{ job.tagline }}
          </span>
        </h3>
        <p class="mt-1 text-sm text-gray-700 dark:text-gray-100">{{ job.role }}</p>
      </div>
      <div class="mt-2 text-sm text-gray-500 sm:mt-0 dark:text-gray-100">{{ job.date }}</div>
    </div>

    <div
      class="overflow-hidden transition-all duration-500 ease-in-out"
      [ngClass]="{
        'mt-4 max-h-96 opacity-100': isOpen,
        'max-h-0 opacity-0': !isOpen
      }"
    >
      <ul class="list-disc pl-5 text-sm text-gray-600 dark:text-gray-100">
        <li *ngFor="let detail of job.details">
          <span [innerHTML]="detail | highlightSkills: skillKeywords"></span>
        </li>
      </ul>
    </div>
  </div>
</div>
